<html>
	<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, height=device-height, user-scalable=no, inital-scale=1.0">
	<title>Saving Data in ROBLOX - A quick guide.</title>
	<link rel="stylesheet" type="text/css" href="../style.css">
	<link href="../prism.css" rel="stylesheet">
	
</head>
<body>
	<script src="../prism.js"></script>
	<h1>Saving Data in ROBLOX - A quick guide.</h1>

	<p>If you find an issue or mistake, please PM me on ROBLOX (MadScient1st), Twitter (@scientiist), or Discord (MadScientist#6277)</p>

	<h3>Disclaimer: This is not intented to be some end-all-be-all book of knowledge or what have you. I'm simply attempting to supply less-skilled scripters with some explanations and examples on the topic.</h3>

	<h2>What's DataStore and why do I care?</h2>
	
	<p>In ROBLOX and game development, you will often find you want to have persistent data about the player, or game in general. In ROBLOX, the main way to accomplish this through the DataStore Service.</p>
	<a href="http://wiki.roblox.com/index.php?title=API:Class/DataStoreService">http://wiki.roblox.com/index.php?title=API:Class/DataStoreService</a>
	<br>
	<b>NOTE:</b> Data Persistance is the predecessor of DataStore, it is quite old, and deprecated. If you find yourself with a game using Data Persistance, I recommend converting to DataStore.

	<p>DataStore is often misunderstood and incorrectly used by newer scripters, but it's really quite simple and nothing to be scared of. Each "game" (Universe, if you prefer) in ROBLOX has shared DataStore, a common misconception being that each place has it's own DataStores, or that they're shared across all ROBLOX games.</p>

	<h2> How's it work?</h2>

	<p>To access a DataStore, you call the <code>GetDataStore(name, scope)</code> method of DataStoreService. It returns a datastore with that given name and scope. Scope will default to <code>"global"</code> if not specified.</p>
	<a href="http://wiki.roblox.com/index.php?title=API:Class/GlobalDataStore">http://wiki.roblox.com/index.php?title=API:Class/GlobalDataStore</a>

	<p>Once you've grabbed your DataStore, you can read and write to it using the <code>GetAsync</code>, <code>SetAsync</code>, <code>IncrementAsync</code> and <code>UpdateAsync</code> methods. These are all pretty self-explainatory.</p>

	<h2>Example One: Saving a number</h2>
	
	<p>This first example should be run in a Script on the server (Preferably ServerScriptService). To start we just grab the service and a DataStore that we want.</p>
	<pre><code class="language-lua">
	local dss = game:GetService("DataStoreService")
	local myDS = dss:GetDataStore("numbers")
	</code></pre>
	<p>Next we are going to use GetAsync to grab a specific number from our DataStore.</p>
	<pre><code class="language-lua">
	local myNum = myDS:GetAsync("number1")
	</code></pre>

	<p><b>NOTE:</b> If a key in a DataStore has never been set before, it will return <code>nil</code>.</p>
	<pre><code class="language-lua">
	if myNum == nil then
		myNum = 0	
	end
	</code></pre>
	<p>After this, we're going to send <code>myNum</code> back into the DataStore.</p>
	<pre><code class="language-lua">
	myDS:SetAsync("number1", myNum+1) -- increase myNum so we can see the difference
	</code></pre>

	<p>Play with this example if you like, output the result to a Billboard or something</p>
	
	<h2>Example Two: Counting player join times.</h2>

	<p>Hopefully you're a little more comfortable with DataStores at this point, so we're going to try something a bit more involved.</p>
	<p>We'll start off this tutorial with some boilerplate that doesn't have much to do with the actual DataStore</p>	
	
	<p>First up is a function <code>join</code> that we connect to the PlayerAdded event.</p>
	<pre><code class="language-lua">
	local function join(player)
		
	end
		
	game.Players.PlayerAdded:Connect(join)
	</code></pre>

	<p>The rest of this example will occur inside of <code>join</code> </p>
	<h2>OrderedDataStore</h2>

	<p>OrderedDataStore is a service similar to DataStore, but is different in that it only stores numbers, and is automatically sorted. At this current time of revision I don't actually know how ODS works, I plan on fleshing out this part of the tutorial later on</p>


	<h2>Common errors and problems</h2>
</body>
</html>
